# Задача 1184 — ExplanatoryNoteEstimate (ПЗ), визуалка, п.1.4 (источники финансирования)

## Контекст
В HTML-визуализации ПЗ отображается шапка таблицы пункта 1.4 («Сведения об источнике (источниках) и размере финансирования…») даже в ситуации, когда ветки `Construction/ExplanatoryNoteEstimate` в XML нет вовсе.

Воспроизведение со слов постановки: удалить полностью ветку `/Construction/ExplanatoryNoteEstimate` из примера и визуализировать — шапка таблицы про источники финансирования всё равно отображается.

## Как понял задачу (архитектор)
- П.1.4 визуалки должен быть условным: если в исходном XML отсутствует блок `ExplanatoryNoteEstimate` или отсутствует блок `FinanceSource`, то раздел 1.4 не должен рендерить таблицу (включая `<thead>`/шапку), потому что нет данных для строк.
- Текущий симптом («шапка есть, данных нет») почти всегда означает, что:
  - либо в XSL таблица создаётся без внешнего `xsl:if`/`xsl:choose`, а условность применена только к `<tbody>`/строкам;
  - либо условие проверки наличия данных написано так, что становится истинным даже при отсутствии `ExplanatoryNoteEstimate` (например, проверяется узел не в том контексте/используется переменная, которая всегда существует, или опечатка в пути);
  - либо есть “заглушка”/ветка `xsl:otherwise`, которая рендерит шапку по умолчанию.
- Ожидаемое исправление: перенести/усилить условие так, чтобы весь блок таблицы п.1.4 (заголовки и строки) выводился только при наличии источников финансирования.

## История
- 2025-12-17 13:40: Создана папка задачи и `1184.md`; зафиксирован симптом и ожидаемое поведение. Без изменений XSL/XML по просьбе.
- 2025-12-17 13:45: Подготовлен валидный пример без ветки `ExplanatoryNoteEstimate`: `ExplanatoryNoteEstimate/1184/Пример_без_ExplanatoryNoteEstimate.xml`, подтверждено воспроизведение в `ExplanatoryNoteEstimate/1184/до_фикса_1184.html` (в HTML присутствует `<table class=\"financing-table\">` и шапка). Исправлено в `ExplanatoryNoteEstimate/ExplanatoryNoteEstimate.xsl`: таблица п.1.4 (и п.1.4.1) выводится только при наличии данных `exists($estimate/FinanceSource/*)`. Проверка: `ExplanatoryNoteEstimate/1184/после_фикса_1184.html` — таблицы/шапки нет; `ExplanatoryNoteEstimate/1184/контроль_с_данными.html` — таблица есть.
