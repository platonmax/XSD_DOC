<?xml version='1.0' encoding='utf-8'?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bt="http://types/BaseTypes.xsd"
  xmlns:ct="http://types/CommonTypes.xsd" xmlns:bd="http://types/BaseDocument.xsd"
  xmlns:cqt="http://cqt/ComparativeQuantityTakeoff.xsd"
  xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
  targetNamespace="http://cqt/ComparativeQuantityTakeoff.xsd" attributeFormDefault="unqualified"
  elementFormDefault="qualified" version="1.11">

  <xs:import namespace="http://types/BaseDocument.xsd" schemaLocation="types/BaseDocument.xsd"/>
  <xs:import namespace="http://types/CommonTypes.xsd" schemaLocation="types/CommonTypes.xsd"/>
  <xs:import namespace="http://types/BaseTypes.xsd" schemaLocation="types/BaseTypes.xsd"/>
  <xs:import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="types/Xmldsig.xsd"/>

  <xs:annotation>
    <xs:documentation>
      <text>Описание элемента схемы.</text>
    </xs:documentation>
  </xs:annotation>

  <xs:element name="comparativeQuantityTakeoff" type="bd:comparativeQuantityTakeoffDocumentType">
    <xs:annotation>
      <xs:documentation>Сопоставительная ведомость объемов работ. 
Элемент обязан содержать атрибуты, указывающие на применяемый xsd-шаблон описания сметы:
xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance";
xsi:noNamespaceSchemaLocation = "ConsolidateQuantityTakeoff-4_01.xsd".
Электронные документы, представляемые для проведения государственной экспертизы проектной документации и (или) результатов инженерных изысканий и проверки достоверности определения сметной стоимости строительства, реконструкции, капитального ремонта, должны иметь расширение файла .gge.
      </xs:documentation>
    </xs:annotation>
    <xs:unique name="uniqueAlterationYearMonth">
      <xs:selector xpath="bd:alterationList/bd:alteration"/>
      <xs:field xpath="ct:year"/>
      <xs:field xpath="ct:month"/>
    </xs:unique>
    <xs:key name="alterationStageById">
      <xs:selector xpath="bd:alterationList/bd:alteration"/>
      <xs:field xpath="@id"/>
    </xs:key>
    <xs:key name="estimateById">
      <xs:selector xpath="bd:estimateList/bd:estimate"/>
      <xs:field xpath="@id"/>
    </xs:key>
    <xs:key name="fileById">
      <xs:selector xpath="bd:fileList/bd:file"/>
      <xs:field xpath="ct:id"/>
    </xs:key>
    <xs:keyref name="estimateFileRef" refer="cqt:fileById">
      <xs:selector xpath="bd:estimateList/bd:estimate"/>
      <xs:field xpath="@id"/>
    </xs:keyref>
  </xs:element>

</xs:schema>
